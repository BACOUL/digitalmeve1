@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   Tokens de marque (Light)
=========================== */
:root {
  /* Neutres */
  --bg: #FFFFFF;
  --surface: #F8FAFC;
  --border: rgba(2,6,23,.12);
  --fg: #0F172A;
  --fg-muted: #475569;

  /* Marque & états */
  --brand-blue: #0EA5E9;                    /* BLEU = pro/tech/business */
  --brand-green: #22C55E;                   /* VERT = gratuit/confiance/individuel */
  --brand-gradient: linear-gradient(90deg, #0EA5E9 0%, #22C55E 100%); /* fusion (logo/CTA global) */
  --danger: #EF4444;

  /* Effets */
  --ring: rgba(14,165,233,.45);
  --shadow: 0 6px 24px rgba(2,6,23,.12);
}

/* ===========================
   Tokens de marque (Dark)
=========================== */
.dark {
  --bg: #0B1220;
  --surface: #0F172A;
  --border: rgba(255,255,255,.12);
  --fg: #E5EDF9;
  --fg-muted: #C8D3E6;

  --brand-blue: #0EA5E9;
  --brand-green: #22C55E;
  --brand-gradient: linear-gradient(90deg, #0EA5E9 0%, #22C55E 100%);
  --danger: #F87171;

  --ring: rgba(14,165,233,.35);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

/* ===========================
   Base typographie
=========================== */
@layer base {
  html, body {
    @apply antialiased;
    background: var(--bg);
    color: var(--fg);
  }
  h1, h2, h3, h4 {
    @apply font-display tracking-tight;
    color: var(--fg);
  }
  p, li {
    @apply font-sans;
    color: var(--fg-muted);
  }
  a { color: var(--brand-blue); }
  a:hover { color: color-mix(in oklab, var(--brand-blue) 80%, black); }
  ::selection { background: color-mix(in oklab, var(--brand-blue) 24%, transparent); }
}

/* ===========================
   Échelle titres & textes
=========================== */
@layer components {
  .eyebrow { @apply text-xs font-semibold uppercase tracking-[.12em] text-neutral-600; }

  .h1 { @apply font-display font-semibold text-4xl sm:text-5xl leading-tight; }
  .h2 { @apply font-display font-semibold text-2xl sm:text-3xl leading-snug; }
  .h3 { @apply font-display font-semibold text-xl leading-snug; }

  .body { @apply font-sans text-base text-[var(--fg-muted)]; }
  .small { @apply font-sans text-sm text-[var(--fg-muted)]; }
  .caption { @apply font-sans text-xs text-[var(--fg-muted)]; }
}

/* ===========================
   Surfaces / cartes
=========================== */
@layer components {
  .surface {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
  }
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    box-shadow: var(--shadow);
  }
}

/* ===========================
   Inputs / formulaires
=========================== */
@layer components {
  .input {
    @apply w-full rounded-xl px-3 py-2 text-sm transition;
    background: color-mix(in oklab, var(--surface) 92%, white 8%);
    border: 1px solid var(--border);
    color: var(--fg);
  }
  .input::placeholder { color: color-mix(in oklab, var(--fg-muted) 60%, transparent); }
  .input:focus { outline: none; border-color: var(--brand-blue); box-shadow: 0 0 0 3px var(--ring); }
  .label { @apply block text-sm font-medium; color: var(--fg); }
}

/* ===========================
   Boutons (règles d’usage)
=========================== */
/* CTA global = FUSION (logo) */
.btn-primary {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-semibold text-white shadow-md transition;
  background: var(--brand-gradient);
}
.btn-primary:hover { filter: brightness(1.05); }

/* PRO/BUSINESS = BLEU */
.btn-pro {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-semibold text-white transition;
  background: var(--brand-blue);
}
.btn-pro:hover { filter: brightness(1.05); }

/* FREE/INDIVIDUAL = VERT */
.btn-free {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-semibold text-white transition;
  background: var(--brand-green);
}
.btn-free:hover { filter: brightness(1.05); }

/* Neutre / secondaire */
.btn-neutral {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-medium transition;
  background: var(--surface);
  color: var(--fg);
  border: 1px solid var(--border);
}
.btn-neutral:hover { background: color-mix(in oklab, var(--surface) 90%, white 10%); }

/* Danger */
.btn-danger {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-2.5 text-sm font-semibold text-white transition;
  background: var(--danger);
}

/* ===========================
   Badges / statuts
=========================== */
@layer components {
  .badge {
    @apply inline-flex items-center gap-2 rounded-full px-2.5 py-1 text-xs font-medium;
    border: 1px solid var(--border);
    background: color-mix(in oklab, var(--surface) 88%, white 12%);
  }
  .badge-pro   { color: var(--brand-blue);  border-color: color-mix(in oklab, var(--brand-blue) 40%, var(--border)); }
  .badge-free  { color: var(--brand-green); border-color: color-mix(in oklab, var(--brand-green) 40%, var(--border)); }
  .badge-muted { color: var(--fg-muted); }
}

/* ===========================
   Helpers texte/couleurs
=========================== */
.text-pro      { color: var(--brand-blue); }
.text-free     { color: var(--brand-green); }
.text-success  { color: var(--brand-green); }
.text-error    { color: var(--danger); }
.text-gradient { background: var(--brand-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

/* ===========================
   Accessibilité / focus
=========================== */
.focus-ring { outline: none; box-shadow: 0 0 0 2px var(--bg), 0 0 0 4px var(--ring); }

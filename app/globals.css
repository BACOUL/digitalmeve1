/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Typography base */
@layer base {
  html, body {
    @apply bg-[#0B1220] text-slate-100;
  }
  ::selection {
    @apply bg-emerald-300/30;
  }
}

/* Smooth transitions for themey bits */
@layer utilities {
  .tap-highlight-none { -webkit-tap-highlight-color: transparent; }
}
/* Animations légères pour le menu mobile */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-fadeIn { animation: fadeIn 220ms ease-out both; }

@keyframes slideDown {
  0%   { opacity: 0; transform: translateY(-8px) scale(0.98); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-slideDown { animation: slideDown 220ms cubic-bezier(.2,.9,.2,1) both; }

/* Effet “glass” amélioré pour le header */
.glass {
  background: linear-gradient(180deg, rgba(15,23,42,0.85) 0%, rgba(15,23,42,0.65) 100%);
  backdrop-filter: blur(10px);
}

/* Conteneur max cohérent (si pas déjà présent) */
.container-max {
  max-width: 1200px;
  margin-inline: auto;
  padding-inline: 1rem;
}
@media (min-width: 640px) { .container-max { padding-inline: 2rem; } }
@media (min-width: 1024px) { .container-max { padding-inline: 3rem; } }

/* --- WOW Effects ---------------------------------------------------- */

/* Aurora blobs : performants (gradients + blur), animés en boucle. */
.aurora {
  position: absolute;
  filter: blur(50px);
  opacity: 0.55;
  mix-blend-mode: screen;
  will-change: transform, opacity;
  animation: aurora-float 16s ease-in-out infinite;
}
.aurora-1 {
  width: 42rem; height: 42rem;
  left: -10%; top: -15%;
  background: radial-gradient(closest-side, rgba(16,185,129,0.65), transparent 65%);
  animation-delay: 0s;
}
.aurora-2 {
  width: 36rem; height: 36rem;
  right: -12%; top: -10%;
  background: radial-gradient(closest-side, rgba(56,189,248,0.55), transparent 65%);
  animation-delay: 3s;
}
.aurora-3 {
  width: 50rem; height: 50rem;
  left: 10%; bottom: -25%;
  background: radial-gradient(closest-side, rgba(34,197,94,0.45), transparent 65%);
  animation-delay: 6s;
}

@keyframes aurora-float {
  0%, 100% { transform: translate3d(0,0,0) scale(1); }
  50%      { transform: translate3d(2rem, -1rem, 0) scale(1.05); }
}

/* Grain ultra léger pour la matière (désactivé sur reduce-motion pour prudence) */
.noise {
  position: absolute; inset: -50%;
  opacity: 0.04; pointer-events: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  background-size: 200px 200px;
  animation: noiseShift 1.5s steps(2) infinite;
}
@keyframes noiseShift {
  to { transform: translate3d(1%, -1%, 0); }
}

/* Petites “chips” & pills réutilisables */
.chip {
  border-radius: 0.75rem;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  padding: 0.4rem 0.75rem;
  text-align: center;
  backdrop-filter: blur(6px);
}
.pill {
  border-radius: 0.75rem;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  padding: 0.5rem 1rem;
  color: rgba(255,255,255,0.9);
  transition: background .2s ease, border-color .2s ease;
  backdrop-filter: blur(6px);
}
.pill:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.18); }

/* Parallaxe : on applique un très léger décalage aux auroras selon la souris */
section:hover .aurora {
  transform: translate3d(calc(var(--mx,0) * 8px), calc(var(--my,0) * 8px), 0);
}

/* Accessibilité : si l’utilisateur préfère réduire les animations, on coupe tout. */
@media (prefers-reduced-motion: reduce) {
  .aurora, .noise { animation: none !important; }
  section:hover .aurora { transform: none !important; }
  }
/* Drawer mobile: inert visuel propre */
@supports (backdrop-filter: blur(4px)) {
  .drawer-blur { backdrop-filter: blur(6px); }
}

/* Beam (balayage lumineux sous le titre) */
.beam {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: calc(50% - 3rem);
  width: 120%;
  height: 120px;
  background: radial-gradient(closest-side, rgba(34,211,238,0.12), transparent 70%);
  filter: blur(24px);
  mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent);
  opacity: .7;
  animation: beam-scan 10s ease-in-out infinite;
  pointer-events: none;
}
@keyframes beam-scan {
  0%   { transform: translate(-50%, -40px) rotate(-1deg); opacity:.55; }
  50%  { transform: translate(-50%, 10px) rotate(1deg); opacity:.8; }
  100% { transform: translate(-50%, -40px) rotate(-1deg); opacity:.55; }
}
@media (prefers-reduced-motion: reduce) {
  .beam { animation: none; }
}
/* === Grid background doux pour sections === */
.grid-bg {
  background:
    radial-gradient(1200px 600px at 50% -20%, rgba(56,189,248,0.06), transparent 60%),
    radial-gradient(1000px 500px at -10% 120%, rgba(16,185,129,0.06), transparent 60%),
    linear-gradient(to bottom, rgba(255,255,255,0.04), rgba(255,255,255,0) 200px);
  mask-image: radial-gradient(1200px 600px at 50% 0, black, transparent 70%);
}

/* === Reveal on scroll === */
[data-reveal] {
  opacity: 0;
  transform: translateY(14px) scale(0.995);
  transition: opacity .6s ease, transform .6s cubic-bezier(.2,.8,.2,1);
}

.is-revealed {
  opacity: 1 !important;
  transform: translateY(0) scale(1) !important;
}
